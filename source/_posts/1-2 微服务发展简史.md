---
title: 1-2 微服务发展简史
category: 微服务
tag: 入门基础
date: 2017-03-24
---
最初的软件开发在蛮荒时代，往往是依靠个人英雄主义，单打独斗就能完成。那时开发的唯一目标就是完成既定功能，软件架构还没有成行的理论，往往是为了编码简单，前后端，功能逻辑和非功能逻辑混杂在一起。这样的开发模式对于一个人开发和维护的阶段本来没什么大不了，但是随着然间功能的膨胀，技术栈的增加以及参与开发的人数扩大，不易分工和维护的弊端凸显了出来。而软件架构也经历了从无到有，从简单到复杂的过程。
<!--more-->
![Alt text](https://shushiinfo-1251883896.cos.ap-beijing.myqcloud.com/hexo-blog/images/history.png)
- **MVC:** 解决前后端、界面、控制逻辑和业务逻辑分层问题。开发人员第一次真正做到了按照技术领域分层合作，前端开发专注在页面的编写，不涉及太多业务代码，逻辑层由后端开发编写业务逻辑，并提供借口给前端直接嵌入功能代码的调用，数据库开发由专门DB开发或者由后端兼职。软件架构按照技术层次划分，不同开发者的互相耦合度降低。从生产成本和质量角度，前后端都可以招到专门开发者，不需要全栈一个人搞定，专业也带来了质量的提高和开发的并行化。
- **SOA:** 服务化架构，企业级资产重用和异构系统间的集成对接。随着企业级系统的不断扩大，如何整合和集成既有的异构系统开始提上日程。其中既有早期的Mainframe的COBOL程序，也有SAP，Siebel这样的企业ERP，ERM系统，还有企业级J2EE系统，如何将异构系统整合在一个大平台下，有成了急需解决的问题。面向服务的架构（SOA）应运而生，其核心思想是以ESB为中心，将应用程序的不同功能单元（称为服务）通过这些服务之间定义良好的接口和契约联系起来。接口是采用中立的方式进行定义的，它应该独立于实现服务的硬件平台、操作系统和编程语言。这使得构建在各种各样的系统中的服务可以以一种统一和通用的方式进行交互。
- **RPC/事件驱动可伸缩架构:** 远程过程调用，无中心集群，本质是系统解耦和分布式通信。远程通讯提供对多种基于长连接的NIO框架抽象封装，包括多种线程模型，序列化，以及“请求-响应”模式的信息交换方式。集群容错提供基于接口方法的透明远程过程调用，包括多协议支持，以及软负载均衡，失败容错，地址路由，动态配置等集群支持。自动发现基于注册中心目录服务，使服务消费方能动态的查找服务提供方，使地址透明，使服务提供方可以平滑增加或减少机器。
- **微服务化架构:** 在分布式架构基础上功能细粒度解耦，服务自治，敏捷交付、云计算、容器化发展的产物。微服务架构强调的第一个重点就是业务系统需要彻底的组件化和服务化，原有的单个业务系统会拆分为多个可以独立开发，设计，运行和运维的小应用。这些小应用之间通过服务完成交互和集成。每个小应用从前端web ui，到控制层，逻辑层，数据库访问，数据库都完全是独立的一套。在这里我们不用组件而用小应用这个词更加合适，每个小应用除了完成自身本身的业务功能外，重点就是还需要消费外部其它应用暴露的服务，同时自身也将自身的能力朝外部发布为服务。

**架构的演进之路**
业务和团队的规模是架构演进的原动力，随着企业级应用的复杂化，异构化趋势明显，新的架构在新的需求下应运而生。本身任何架构都没有绝对好坏之分，只有是否适合。在一个初创公司，前期天使投资通常只会支持公司半年到一年的运营，在`时间窗口`到来之前必须拿出成型的第一版应用来验证需求和用户规模。如果资金耗尽之前没有做出，或者被竞争对手抢先占领市场，初创公司基本就只有出局的命运。在这种时间就是生命的驱动下，最快以最小团队做出最小可用产品（MVP），即是最重要的，也是唯一的目标。这种情况下，这些初创公司不会选择太复杂的架构，MVC的单体架构通常是最佳选择。随着业务的不断扩大，主要是新一轮的资金到位，产品线和团队有条件逐步扩大，如何让团队更与效率的并行开发，不产生严重耦合依赖，加速迭代成了首要目标。因此，如何设计企业架构，取决于架构师是否对公司业务和团队的充分理解。
