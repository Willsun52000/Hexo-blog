---
title: 微服务概念
category: 微服务
tag: 入门基础
date: 2017-03-23
comments: true
---
> Martin Fowler是国际著名的OO专家，敏捷开发方法的创始人之一，现为ThoughtWorks公司的首席科学家.福勒（Martin Fowler），在面向对象分析设计、UML、模式、软件开发方法学、XP、重构等方面，都是世界顶级的专家，现为Thought Works公司的首席科学家。Thought Works是一家从事企业应用开发和集成的公司。早在20世纪80年代，Fowler就是使用对象技术构建多层企业应用的倡导者，他著有几本经典书籍： 《企业应用架构模式》、《UML精粹》和《重构》等。—— 百度百科

<!--more-->
**微服务**的概念最初由Martin Fowler与James Lewis于2014年共同提出，微服务架构风格是一种使用一套小服务来开发单个应用的方式途径，每个服务运行在自己的进程中，并使用轻量级机制通信，通常是HTTP API，这些服务基于业务能力构建，并能够通过自动化部署机制来独立部署，这些服务使用不同的编程语言书写，以及不同数据存储技术，并保持最低限度的集中式管理。
随着微服务理论和实践的完善，一个真正的微服务都要体现一下特点：
粒度小，无状态，基于轻量级通信协议，可以独立开发、测试、部署、发布、升级，扩容。
![Alt text](http://i4.buimg.com/567571/0b8761bc5ceec516.png)
这是一张作者很喜欢的经典图例，很形象的说明了微服务与传统单体应把你用（monolithic application）的区别。单一应用通常是一个all in one的结构，所有对外接口，基础服务都封装到一个包内，如果横向扩展就需要全量复制包，通过网关或者负载均衡分发请求。在实际的应用中往往包内海风装有前端代码，所有包可以共享一个数据库层。微服务中每一个服务单元都是独立的，都可以单独部署到任何一台主机上，为了便于扩容和容错，服务单元的部署个数和所在主机都是灵活的分布。
举个简单的例子，一次我预定了一处甜点工作室给太太做一个生日蛋糕，先是烤好蛋糕，再在上面抹上一层奶油，最后点缀上水果巧克力，写上几个字。当太太吃到时候，虽然非常高兴但是觉得还是有点甜。这种时候通常只有两种选择，要么回去重做一个，再花一次钱（预算超支），要么说服我太太等到明年再给做一个（项目严重延期）。假设用微服务的思想怎么办？花最少的钱，做一个试吃的小块糕点，也有蛋糕，奶油，水果和巧克力，写不写字无所谓。如果太太满意，照样做一个正式的生日蛋糕，不喜欢的话，根据反馈，改进一下试吃蛋糕的口味，每次改进的成本其实远低于重做一个大蛋糕。